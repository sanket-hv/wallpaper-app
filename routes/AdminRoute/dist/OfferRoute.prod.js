"use strict";var connection=require("./../../config"),express=require("express"),router=express.Router();router.get("/",function(e,f){connection.query("SELECT * FROM OfferTbl",function(e,r,t){var s;e&&(s={success:"false",status:404,data:e}),r&&(s={flag:0,success:"true",status:200,data:r,message:"Redirected"}),f.render("offer",{op:s})})}),router.get("/edit/:id",function(e,f){var r=e.params.id;connection.query("SELECT * FROM OfferTbl WHERE OfferId = ?",[r],function(e,r,t){var s;s=e?{success:"false",status:404,data:e}:0<r.length?{flag:1,success:"true",status:200,data:r,message:"Redirected"}:(console.log("false"),{flag:0,success:"false",status:200,data:r,message:"Offer Not Available"}),f.render("offer",{op:s})})}),router.post("/edit",function(e,s){var r=e.body.txtOfferId,t=[e.body.txtOfferName,r];connection.query("UPDATE OfferTbl SET OfferName = ? WHERE OfferId = ?",t,function(e,r,t){s.redirect("/offer")})}),module.exports=router;