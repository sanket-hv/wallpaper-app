"use strict";var connection=require("./../../config"),express=require("express"),router=express.Router();router.get("/",function(s,o){connection.query("SELECT * FROM AreaTbl",function(e,a,t){var r;e&&(r={success:"false",status:404,data:e}),a&&(console.log(s.url),r={flag:0,success:"true",status:200,data:a,message:"Redirected"}),o.render("area",{op:r})})}),router.post("/add",function(s,o){s.body.txtAreaName;connection.query("SELECT * FROM AreaTbl",function(e,a,t){var r;e&&(r={success:"false",status:404,data:e}),a&&(console.log(s.url),r={flag:0,success:"true",status:200,data:a,message:"Redirected"}),o.render("area",{op:r})})}),router.get("/edit/:id",function(e,s){var a=e.params.id;connection.query("SELECT * FROM AreaTbl WHERE AreaId = ?",[a],function(e,a,t){var r;r=e?{success:"false",status:404,data:e}:0<a.length?{flag:1,success:"true",status:200,data:a,message:"Redirected"}:(console.log("false"),{flag:0,success:"false",status:200,data:a,message:"Area Not Available"}),s.render("area",{op:r})})}),router.post("/edit",function(e,r){var a=e.body.txtAreaId,t=[e.body.txtAreaName,a];connection.query("UPDATE AreaTbl SET AreaName = ? WHERE AreaId = ?",t,function(e,a,t){r.redirect("/area")})}),module.exports=router;