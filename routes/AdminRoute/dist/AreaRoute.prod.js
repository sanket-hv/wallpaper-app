"use strict";var connection=require("./../../config"),express=require("express"),router=express.Router();router.get("/",function(s,o){connection.query("SELECT * FROM AreaTbl",function(e,r,a){var t;e&&(t={success:"false",status:404,data:e}),r&&(console.log(s.url),t={flag:0,success:"true",status:200,data:r,message:"Redirected"}),o.render("area",{op:t})})}),router.get("/edit/:id",function(e,s){var r=e.params.id;connection.query("SELECT * FROM AreaTbl WHERE AreaId = ?",[r],function(e,r,a){var t;t=e?{success:"false",status:404,data:e}:0<r.length?{flag:1,success:"true",status:200,data:r,message:"Redirected"}:(console.log("false"),{flag:0,success:"false",status:200,data:r,message:"Area Not Available"}),s.render("area",{op:t})})}),router.post("/edit",function(e,t){var r=e.body.txtAreaId,a=[e.body.txtAreaName,r];connection.query("UPDATE AreaTbl SET AreaName = ? WHERE AreaId = ?",a,function(e,r,a){t.redirect("/area")})}),module.exports=router;